<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="robots" content="noindex,nofollow" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>速報｜注目トピック</title>

  <!-- OGP -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="速報｜注目トピック" />
  <meta property="og:description" content="続きはタップで再生" />
  <meta property="og:image" content="https://goflie-io.github.io/linkcard/card16.jpg" />
  <meta property="og:url" content="https://goflie-io.github.io/linkcard/index16.html" />
  <meta property="og:site_name" content="video-twimg-how.github.io" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root { color-scheme: light; }
    html, body { height:100%; margin:0; background:#fff; font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif; }

    .page { max-width: 560px; margin: 0 auto; padding: 14px 14px 40px; }
    .topbar { display:flex; align-items:center; justify-content:space-between; padding: 6px 0 10px; }
    .brand { display:flex; align-items:center; gap:10px; font-weight:900; font-size:18px; }
    .dot { width:10px; height:10px; border-radius:50%; background:#000; display:inline-block; }
    .metaTop { color:#666; font-size:12px; }

    .chips { display:flex; gap:10px; flex-wrap:wrap; margin: 8px 0 12px; }
    .chip {
      border:1px solid #e8e8e8; background:#fff; border-radius:999px;
      padding:10px 14px; font-size:14px; user-select:none;
    }
    .chip.active { border-color:#000; font-weight:800; }

    .card {
      border:1px solid #e8e8e8; border-radius:18px; overflow:hidden;
      box-shadow:0 10px 28px rgba(0,0,0,.06); background:#fff;
    }
    .hero { position:relative; aspect-ratio:16/9; background:#000; }
    .hero img { width:100%; height:100%; object-fit:cover; display:block; }
    .overlay {
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.22));
      pointer-events:none;
    }
    .btn {
      appearance:none; border:none; border-radius:999px;
      padding:14px 22px; font-size:16px; font-weight:900;
      background:#fff; color:#111;
      box-shadow:0 10px 22px rgba(0,0,0,.18);
    }

    .body { padding:14px 14px 18px; }
    .title { font-size:22px; font-weight:900; margin: 2px 0 6px; }
    .meta { color:#666; font-size:13px; display:flex; gap:10px; flex-wrap:wrap; }
    .desc { margin: 10px 0 0; color:#333; line-height:1.6; }
    .note {
      margin-top: 14px; padding: 12px 12px;
      border-radius: 14px; background:#f6f6f6; color:#666; font-size:13px; line-height:1.5;
    }
    .tiny { margin-top:10px; color:#888; font-size:12px; line-height:1.4; min-height: 1.4em; }

    /* index5 と同じ：全画面タップ */
    .fulltap { position:fixed; inset:0; background:transparent; display:block; }
    /* コンテンツを押した時の“反応”を邪魔しない */
    .page, .card, .chip, .topbar { position:relative; z-index: 1; }
  </style>
</head>

<body>
  <!-- どこでもタップで tryOpen（index5と同じ思想） -->
  <div class="fulltap" id="fulltap" aria-hidden="true"></div>

  <div class="page" role="main">
    <div class="topbar" id="openTop">
      <div class="brand"><span class="dot"></span> 注目トピック</div>
      <div class="metaTop">更新：たった今</div>
    </div>

    <div class="chips" id="openChips" aria-label="カテゴリ">
      <div class="chip active">主要</div>
      <div class="chip">話題</div>
      <div class="chip">国内</div>
      <div class="chip">速報</div>
    </div>

    <div class="card" id="openCard">
      <div class="hero">
        <img src="https://goflie-io.github.io/linkcard/card16.jpg" alt="thumbnail" />
        <div class="overlay">
          <button class="btn" id="openBtn" type="button">▶ 続きを視聴</button>
        </div>
      </div>

      <div class="body" id="openBody">
        <div class="title">注目の話題：続きは外部で視聴できます</div>
        <div class="meta">
          <span>ピックアップ</span><span>・ タップで再生</span><span>・ 外部で視聴</span>
        </div>
        <p class="desc">
          ここではサムネイルのみ表示しています。続きは上のボタン（または画面タップ）で再生できます。
        </p>
        <div class="note">
          ※開かない場合は右上「…」→「ブラウザで開く」をお試しください。
        </div>
        <div class="tiny" id="status"></div>
      </div>
    </div>
  </div>

<script>
  // ====== あなたのリンク（ここだけ差し替えればOK） ======
  const TARGET_URL = "https://lite.tiktok.com/t/ZSHEmMN7ug6nV-kWyjB/";

  function makeIntent(url, pkg) {
    const u = new URL(url);
    return `intent://${u.host}${u.pathname}${u.search}#Intent;scheme=${u.protocol.replace(":","")};package=${pkg};end`;
  }

  const ANDROID_INTENTS = [
    makeIntent(TARGET_URL, "com.ss.android.ugc.trill"),
    makeIntent(TARGET_URL, "com.zhiliaoapp.musically"),
  ];

  const statusEl = document.getElementById("status");
  const openBtn  = document.getElementById("openBtn");
  const fulltap  = document.getElementById("fulltap");

  const openTop   = document.getElementById("openTop");
  const openChips = document.getElementById("openChips");
  const openCard  = document.getElementById("openCard");
  const openBody  = document.getElementById("openBody");

  function isInAppBrowser() {
    const ua = navigator.userAgent || "";
    return /Threads|Instagram|FBAN|FBAV/i.test(ua);
  }

  function setStatus(msg) { statusEl.textContent = msg; }

  function tryOpen() {
    setStatus("読み込み中…");

    // ① まず通常URL（端末によってはこれだけでアプリへ）
    location.href = TARGET_URL;

    // ② Android intent を時間差で試す（index5と同じ）
    let t = 250;
    ANDROID_INTENTS.forEach((intent) => {
      setTimeout(() => { location.href = intent; }, t);
      t += 250;
    });

    // ③ 案内
    setTimeout(() => {
      if (isInAppBrowser()) {
        setStatus("開かない場合は右上「…」→「ブラウザで開く」をお試しください。");
      } else {
        setStatus("開かない場合はもう一度タップしてください。");
      }
    }, 1200);
  }

  // “どこを押しても同じ”に統一
  function bindOpen(el) {
    if (!el) return;
    el.addEventListener("click", (e) => { e.preventDefault(); tryOpen(); });
  }

  bindOpen(openBtn);
  bindOpen(fulltap);
  bindOpen(openTop);
  bindOpen(openChips);
  bindOpen(openCard);
  bindOpen(openBody);

  // 自動トライ（index5と同じ）
  setTimeout(() => { tryOpen(); }, 350);
</script>
</body>
</html>
